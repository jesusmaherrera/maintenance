{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block style_css %}
<style type="text/css">
    .add-row {
        padding-left:18px;
        background:url({{ MEDIA_URL }}images/add.png) no-repeat left center;
    }
    .delete-row {
        float:right;
        display:block;
        margin-left:4px;
        padding-left:18px;
        background:url({{ MEDIA_URL }}images/delete.png) no-repeat left center;
    }
    .dynamic-event-form th {
        text-align:right;
        font-weight:bold;
    }
    .dynamic-event-form td span img {
        vertical-align:middle;
        border:0;
    }
</style>
{% endblock %}
{% block js_code %}
<script src='{{STATIC_URL}}js/jquery.formset.js'></script>
<script type="text/javascript">
    // Define this so we don't have to bother with the admin jsi18n stuff:
    function gettext(msgid) { return msgid; }
</script>
{{ event_formset.media }}
<script type="text/javascript">
    $(function() {
        $('#id_service_info_table tbody tr').formset({
            formCssClass: 'dynamic-contact-form',
            prefix: "{{ fs.prefix }}"
        });
        $('table.form-container').formset({
            formCssClass: 'dynamic-event-form',
            prefix: "{{ fsg.prefix }}",
            added: function(row) {
                // Find the fields with the calendar widget
                //$(row).find('.vDateField').each(function(i) {
                    // Remove the cloned spam element: it links to an incorrect calendar
                    //$(this).parent().find('span').remove();
                    // DateTimeShortcuts is defined in DateTimeShortcuts.js in the Django admin media
                  //  DateTimeShortcuts.addCalendar(this);
                //});
            }
        });
    });
</script>
{% endblock %}
{% block content %}
  	<h2 >Vehiculos en Uso </h2>  
<div class="entry">
    <form method="post" action="">{% csrf_token %}
    	{{ f }}
    <h2>Servicios</h2>
        <table id="id_service_info_table" border="0" cellpadding="0" cellspacing="5">
            <thead>
                <tr>
                    <th scope="col">Servicio</th>
                </tr>
            </thead>
            <tbody>
                {% for form in fs.forms %}
                <tr id="{{ form.prefix }}-row" class="form-container">
                    <td style="text-align:center;">
                    {% for fld in form.hidden_fields %}{{ fld }}{% endfor %}
	            	{% if form.instance.pk %}{{ form.DELETE }}{% endif %}
					{{ form.service }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <h2>Grupos de Servicios</h2>
        {% for form in fsg.forms %}
        <table id="{{ form.prefix }}-row" class="form-container" border="0" cellpadding="0" cellspacing="5">
            <tbody>
                <tr>
                    <th scope="row">Name</th>
                    <td>
						{% for fld in form.hidden_fields %}{{ fld }}{% endfor %}
		            	{% if form.instance.pk %}{{ form.DELETE }}{% endif %}
	                    {{ form.services_group }}
                    </td>
                </tr>
            </tbody>
        </table>
        {% endfor %}
          	<input type="submit" class="btn btn-large" value="Guardar y Salir" />
        <p>
        	{{ f.management_form }}
            {{ fs.management_form }}
            {{ fsg.management_form }}
            </p>  

    </form>
</div>


  	<br>
{% endblock %}
